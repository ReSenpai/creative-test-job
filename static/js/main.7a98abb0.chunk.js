(this["webpackJsonpcreative-test-job"]=this["webpackJsonpcreative-test-job"]||[]).push([[0],{30:function(e){e.exports=JSON.parse('{"a":[{"type":"flat","id":1,"liked":false,"attributes":{"title":"3-\u0445 \u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043d\u0430 \u041c\u0438\u043d\u0441\u043a\u043e\u0439","rooms":3,"address":{"city":"Tyumen","street":"\u041c\u0438\u043d\u0441\u043a\u0430\u044f","house":"3a","room":"123"},"area":134,"unit":"\u043a\u0432\u043c","photo":"https://kvsspb.ru/upload/img/s_otdelkoy/janino/8.jpg"},"relationships":{"type":"agent","id":2,"attributes":{"first_name":"\u0412\u0430\u0441\u0438\u043b\u0438\u0439","last_name":"\u0414\u0440\u043e\u0437\u0434\u043e\u0432","middle_name":"\u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432\u0438\u0447"}}},{"type":"flat","id":2,"liked":false,"attributes":{"title":"1 \u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043d\u0430 \u0411\u0430\u0440\u0430\u0431\u0430...","rooms":2,"address":{"city":"Tyumen","street":"\u0411\u0430\u0440\u0430\u0431\u0438\u043d\u0441\u043a\u0430\u044f","house":"12","room":"45"},"area":34,"unit":"\u043a\u0432\u043c","photo":"https://img-cdn.tinkoffjournal.ru/main___kvartira_vashi_prava.5oxpmdxtk8fa.jpg"},"relationships":{"type":"agent","id":10,"attributes":{"first_name":"\u041c\u0438\u0445\u0430\u0438\u043b","last_name":"\u0418\u0432\u0430\u043d\u043e\u0432","middle_name":"\u0414\u0435\u043c\u0438\u0434\u043e\u0432\u0438\u0447"}}},{"type":"flat","id":3,"liked":false,"attributes":{"title":"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430 \u041b\u0435\u043d\u0438\u043d\u0430","rooms":4,"address":{"city":"Tyumen","street":"\u041b\u0435\u043d\u0438\u043d\u0430","house":"134","room":"24"},"area":134,"unit":"\u043a\u0432\u043c","photo":"https://s00.yaplakal.com/pics/pics_original/6/7/4/8380476.jpg"},"relationships":{"type":"agent","id":44,"attributes":{"first_name":"\u0421\u0442\u0435\u043f\u0430\u043d","last_name":"\u041a\u0430\u0440\u0430\u0447\u0430\u0435\u0432","middle_name":"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447"}}}]}')},42:function(e,t,a){e.exports=a(58)},47:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),s=(a(47),a(48),a(24)),c=a(14),l=a.n(c),u=a(21),m=a(35),d=a(9),p=a(30),f=new Promise((function(e){setTimeout((function(){e(p.a)}),200)})),b=function(){return Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f;case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},h=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(d.a)(Object(d.a)({},e),n):e}))},k="apartaments/ADD_LIKE",v="apartaments/REMOVE_LIKE",E={apartaments:[],likes:0,isInitialization:!0},y=function(e){return{type:"apartaments/GET_APARTAMENTS",apartaments:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"apartaments/GET_APARTAMENTS":return Object(d.a)(Object(d.a)({},e),{},{apartaments:Object(m.a)(t.apartaments)});case k:return Object(d.a)(Object(d.a)({},e),{},{apartaments:h(e.apartaments,t.userId,"id",{liked:!0}),likes:e.likes+1});case v:return Object(d.a)(Object(d.a)({},e),{},{apartaments:h(e.apartaments,t.userId,"id",{liked:!1}),likes:e.likes-1});default:return e}},j=function(e){return e.apartamentsPage.apartaments},_=function(e){return e.apartamentsPage.isInitialization},O=function(e){return e.apartamentsPage.likes},x=a(84),w=a(91),L=a(15),I=a.n(L),T=a(82),A=a(92),S=a(85),P=a(89),N=a(87),z=a(86),B=a(90),M=a(88),C=Object(T.a)({root:{maxWidth:345,width:345,margin:10},grid:{flexBasis:0},media:{height:140}});function J(e){var t=e.apartaments,a=e.addLike,n=e.removeLike,i=C();return t.map((function(e){return r.a.createElement(x.a,{item:!0,xs:12,key:e.id,className:i.grid},r.a.createElement(A.a,{className:i.root},r.a.createElement(S.a,null,r.a.createElement(z.a,{className:i.media,image:e.attributes.photo,title:e.attributes.title}),r.a.createElement(N.a,null,r.a.createElement(M.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.attributes.title),r.a.createElement(M.a,{variant:"body2",color:"textSecondary",component:"p"},"\u041f\u043b\u043e\u0449\u0430\u0434\u044c: ",e.attributes.area," ",e.attributes.unit),r.a.createElement(M.a,{variant:"body2",color:"textSecondary",component:"p"},"\u041a\u043e\u043c\u043d\u0430\u0442\u044b: ",e.attributes.rooms),r.a.createElement(M.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0410\u0434\u0440\u0435\u0441: \u0423\u043b\u0438\u0446\u0430 ",e.attributes.address.street," \u0414\u043e\u043c ",e.attributes.address.house," \u043a\u0432. ",e.attributes.address.room),r.a.createElement(M.a,{variant:"body2",color:"textSecondary",component:"p"},"\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446: ",e.relationships.attributes.first_name," ",e.relationships.attributes.middle_name))),r.a.createElement(P.a,null,e.liked?r.a.createElement(B.a,{color:"primary","aria-label":"add to favorites",onClick:function(){return n(e.id)}},r.a.createElement(I.a,null)):r.a.createElement(B.a,{"aria-label":"add to favorites",onClick:function(){return a(e.id)}},r.a.createElement(I.a,null)))))}))}var R=function(e){var t=e.apartaments,a=e.addLike,n=e.removeLike,i=e.likes;return r.a.createElement(x.a,{container:!0,spacing:2,justify:"center",alignItems:"center",direction:"column",style:{height:"100vh",width:"100%"}},r.a.createElement(w.a,{badgeContent:i,color:"error",style:{position:"fixed",top:"6%",right:"6%",zIndex:"1"}},i?r.a.createElement(I.a,{color:"primary"}):r.a.createElement(I.a,{color:"disabled"})),r.a.createElement(x.a,{item:!0},r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(J,{apartaments:t,addLike:a,removeLike:n}))))},W=Object(s.b)((function(e){return{apartaments:j(e),isInitialization:_(e),likes:O(e)}}),{getApartaments:function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:a=e.sent,t(y(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addLike:function(e){return{type:k,userId:e}},removeLike:function(e){return{type:v,userId:e}}})((function(e){var t=e.apartaments,a=e.isInitialization,i=e.likes,o=e.getApartaments,s=e.addLike,c=e.removeLike;return Object(n.useEffect)((function(){o()}),[a]),r.a.createElement(R,{apartaments:t,addLike:s,removeLike:c,likes:i})}));a(57);var D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(13),K=a(34),F=Object(G.c)({apartamentsPage:g}),V=Object(G.d)(F,Object(G.a)(K.a));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:V},r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.7a98abb0.chunk.js.map